<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="utf-8"></meta>
   <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"></meta>
   <title>用户列表</title>
      <!-- JQUERY-->
   <script src="/admin/vendor/jquery/dist/jquery.js"></script>
   <!-- FONT AWESOME-->
   <link rel="stylesheet" href="/admin/vendor/fontawesome/css/font-awesome.min.css"></link>
   <!-- SIMPLE LINE ICONS-->
   <link rel="stylesheet" href="/admin/vendor/simple-line-icons/css/simple-line-icons.css"></link>
   <!-- WHIRL (spinners)-->
   <link rel="stylesheet" href="/admin/vendor/whirl/dist/whirl.css"></link>
   <!-- =============== PAGE VENDOR STYLES ===============-->
      <!-- DATATABLES-->
   <link rel="stylesheet" href="/admin/vendor/datatables-colvis/css/dataTables.colVis.css"></link>
   <link rel="stylesheet" href="/admin/vendor/datatable-bootstrap/css/dataTables.bootstrap.css"></link>
   <!-- =============== BOOTSTRAP STYLES ===============-->
   <link rel="stylesheet" href="/admin/css/bootstrap.css" id="bscss"></link>
   <!-- =============== APP STYLES ===============-->
   <link rel="stylesheet" href="/admin/css/app.css" id="maincss"></link>
</head>

<body>
   <div class="wrapper">
      <!-- top navbar-->
      <header class="topnavbar-wrapper">
         <!-- START Top Navbar-->
         <nav role="navigation" class="navbar topnavbar">
            <!-- START navbar header-->
            <div class="navbar-header">
               <a href="/openAdmin/index" class="navbar-brand">
                  <div class="brand-logo">
                     <img src="/admin/img/logo.png" alt="App Logo" class="img-responsive"></img>
                  </div>
                  <div class="brand-logo-collapsed">
                     <img src="/admin/img/logo-single.png" alt="App Logo" class="img-responsive"></img>
                  </div>
               </a>
            </div>
            <!-- END navbar header-->
            <!-- START Nav wrapper-->
            <div class="nav-wrapper">
               <!-- START Left navbar-->
               <ul class="nav navbar-nav">
                  <li>
                     <!-- Button used to collapse the left sidebar. Only visible on tablet and desktops-->
                     <a href="#" data-toggle-state="aside-collapsed" class="hidden-xs">
                        <em class="fa fa-navicon"></em>
                     </a>
                     <!-- Button to show/hide the sidebar on mobile. Visible on mobile only.-->
                     <a href="#" data-toggle-state="aside-toggled" data-no-persist="true" class="visible-xs sidebar-toggle">
                        <em class="fa fa-navicon"></em>
                     </a>
                  </li>
               </ul>
               <!-- END Left navbar-->
               
            </div>
            <!-- END Nav wrapper-->
            
         </nav>
         <!-- END Top Navbar-->
      </header>
      <!-- sidebar-->
      <aside class="aside">
         <!-- START Sidebar (left)-->
         <div class="aside-inner">
            <nav class="sidebar">
               <!-- START sidebar nav-->
               <ul class="nav">
                  <!-- Iterates over all sidebar items-->
                  <li class="nav-heading ">
                     <span data-localize="sidebar.heading.HEADER"></span>
                  </li>
                 
                  <li class=" " th:if="${session.menu.actList.size() gt 0}">
                     <a href="#menuid" data-toggle="collapse">
                        <em class="icon-folder"></em>
                        <span data-localize="sidebar.nav.menu.MENU">活动</span>
                     </a>
                     <ul id="menuid" class="nav sidebar-subnav collapse">
                        <li class="sidebar-subnav-header">活动</li>
                        <li class=" ">
                           <a href="/openAdmin/activity/index.html">
                              <em></em>
                              <span data-localize="sidebar.nav.menu.SUBMENU">活动列表</span>
                           </a>
                        </li>
                     </ul>
                  </li>
                  
                  <li class=" " th:if="${session.menu.orderList.size() gt 0}">
                     <a href="#order" data-toggle="collapse">
                        <em class="icon-folder"></em>
                        <span data-localize="sidebar.nav.menu.MENU">订单</span>
                     </a>
                     <ul id="order" class="nav sidebar-subnav collapse">
                        <li class="sidebar-subnav-header">订单</li>
                        <li class=" ">
                           <a href="/openAdmin/order/index.html">
                              <em></em>
                              <span data-localize="sidebar.nav.menu.SUBMENU">订单列表</span>
                           </a>
                        </li>
                     </ul>
                  </li>
                  
                  <li class=" " th:if="${session.menu.tranList.size() gt 0}">
                     <a href="#transfer" data-toggle="collapse">
                        <em class="icon-folder"></em>
                        <span data-localize="sidebar.nav.menu.MENU">转账</span>
                     </a>
                     <ul id="transfer" class="nav sidebar-subnav collapse">
                        <li class="sidebar-subnav-header">转账</li>
                        <li class=" ">
                           <a href="/openAdmin/transfer/index.html">
                              <em></em>
                              <span data-localize="sidebar.nav.menu.SUBMENU">转账列表</span>
                           </a>
                        </li>
                     </ul>
                  </li>
                  
                  <li class=" " th:if="${session.menu.contList.size() gt 0}">
                     <a href="#contact" data-toggle="collapse">
                        <em class="icon-folder"></em>
                        <span data-localize="sidebar.nav.menu.MENU">联系人</span>
                     </a>
                     <ul id="contact" class="nav sidebar-subnav collapse">
                        <li class="sidebar-subnav-header">联系人</li>
                        <li class=" ">
                           <a href="/openAdmin/contact/index.html" >
                              <em></em>
                              <span data-localize="sidebar.nav.menu.SUBMENU">联系人列表</span>
                           </a>
                        </li>
                     </ul>
                  </li>
                  
                  <li class=" " th:if="${session.menu.adminList.size() gt 0}">
                     <a href="#admin" data-toggle="collapse">
                        <em class="icon-folder"></em>
                        <span data-localize="sidebar.nav.menu.MENU">管理员</span>
                     </a>
                     <ul id="admin" class="nav sidebar-subnav collapse">
                        <li class="sidebar-subnav-header">管理员</li>
                        <li class=" active">
                           <a href="/openAdmin/admin/index.html" >
                              <em></em>
                              <span data-localize="sidebar.nav.menu.SUBMENU">管理员列表</span>
                           </a>
                        </li>
                     </ul>
                  </li>
                  
               </ul>
               <!-- END sidebar nav-->
            </nav>
         </div>
         <!-- END Sidebar (left)-->
      </aside>
      
      <section>
         <!-- Page content-->
         <div class="content-wrapper">
         
         	<h3>活动列表</h3>
            <div class="row">
            
               <div class="col-lg-12">
                     <div class="panel panel-default">
                        <div class="panel-body">
                           <table id="datatable1" class="table table-striped table-hover">
                              <thead>
                              	<tr>
	                              <th>
			                        <div class="form-group">
			                           <button type="button" data-toggle="modal" data-target="#myModalLarge" class="btn btn-labeled btn-success btn_add">
			                              <span class="btn-label">
			                                 <em class="fa fa-plus"></em>
			                              </span>Add</button>
			                        </div>
	                     		  </th>
                              	</tr>
                                 <tr>
                                    <th>ID</th>
                                    <th>用户名</th>
                                    <th>角色</th>
                                    <th>创建时间</th>
                                    <th>操作</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr th:each="m : ${adminList}">
                                    <td th:text="${m.id}"></td>
                                    <td th:text="${m.username}"></td>
                                    <td th:if="${m.roleId == 1}">超级管理员</td>
                                    <td th:if="${m.roleId == 2}">普通管理员</td>
                                    <td th:text="${#dates.format(m.createTime,'yyyy-MM-dd HH:mm:ss')}"></td>
                                    <td>
				                        <button type="button" data-toggle="modal" data-target="#myModalLarge"  class="btn btn-sm btn-warning btn_update">
				                           <em class="fa fa-edit"></em>
				                        </button>
				                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                  </div>
               
            </div>
         </div>
      </section>
      
      <!-- Page footer-->
      <footer>
         <span>&copy; 2019 - 保定泰高广告有限公司</span>
      </footer>
   </div>
   <!-- =============== VENDOR SCRIPTS ===============-->
   <!-- MODERNIZR-->
   <script src="/admin/vendor/modernizr/modernizr.js"></script>
   <!-- BOOTSTRAP-->
   <script src="/admin/vendor/bootstrap/dist/js/bootstrap.js"></script>
   <!-- STORAGE API-->
   <script src="/admin/vendor/jQuery-Storage-API/jquery.storageapi.js"></script>
   <!-- JQUERY EASING-->
   <script src="/admin/vendor/jquery.easing/js/jquery.easing.js"></script>
   <!-- ANIMO-->
   <script src="/admin/vendor/animo.js/animo.js"></script>

   <!-- =============== PAGE VENDOR SCRIPTS ===============-->
   <!-- DATATABLES-->
   <script src="/admin/vendor/datatables/media/js/jquery.dataTables.min.js"></script>
   <script src="/admin/vendor/datatables-colvis/js/dataTables.colVis.js"></script>
   <script src="/admin/vendor/datatable-bootstrap/js/dataTables.bootstrap.js"></script>
   <script src="/admin/vendor/datatable-bootstrap/js/dataTables.bootstrapPagination.js"></script>
   <script src="/admin/My97DatePicker/WdatePicker.js"></script>
   <script src="/admin/js/demo-datatable.js"></script>
   <!-- =============== APP SCRIPTS ===============-->
   
   <!-- Modal Large-->
   <div id="myModalLarge" tabindex="-1" role="dialog" aria-labelledby="myModalLabelLarge" aria-hidden="true" class="modal fade">
      <div class="modal-dialog">
         <div class="modal-content">
            <div class="modal-header">
               <button type="button" data-dismiss="modal" aria-label="Close" class="close">
                  <span aria-hidden="true">&times;</span>
               </button>
               <h4 id="myModalLabelLarge" class="modal-title">管理员</h4>
            </div>
            <form class="form-horizontal" action="/openAdmin/admin/save" method="post" id="formAct">
            	<input name="id" type="hidden"></input>
            	<div class="modal-body">
                     <div class="form-group">
                        <label class="col-lg-2 control-label">用户名*</label>
                        <div class="col-lg-8">
                           <input type="text" name="username" required="required" placeholder="用户名" class="form-control"></input>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-2 control-label">密码*</label>
                        <div class="col-lg-8">
                           <input type="text" name="password" required="required" placeholder="密码" class="form-control"></input>
                        </div>
     				</div>
     				
     				<div class="form-group">
                        <label class="col-lg-2 control-label">角色*</label>
                        <div class="col-lg-8">
                           <select class="form-control" name="roleId">
                           		<option value="1">超级管理员</option>
                           		<option value="2">普通管理员</option>
                           </select>
                        </div>
     				</div>
            	</div>
	            <div class="modal-footer">
               		<button type="reset"  class="btn btn-default btn_reset">Reset</button>
               		<button type="submit" class="btn btn-primary">Save</button>
	            </div>
            </form>
         </div>
      </div>
   </div>
   
   
   <script type="text/javascript">
   
   $(".btn_add").click(function(){
	   $("#formAct")[0].reset();
	   $(".btn_reset").attr("disabled",false);
   });
   
   
   	$(".btn_update").click(function(){
   		$(".btn_reset").attr("disabled",true);
	   var adminId = $(this).parent("td").siblings().html();
	   $.ajax({
		    url: "/openAdmin/admin/get",
		    type: "get",
		    data: {"adminId":adminId},
		    dataType: 'json',
		    success: function(result){
		    	console.log(result);
		    	$("input[name='id']").val(result.id);
		    	$("input[name='username']").val(result.username);
		    	$("input[name='password']").val(result.password);
		    	
		    	$('select').children('option').each(function(){
		    	    if($(this).val()== result.roleId){
		    	        $(this).prop('selected',true);
		    	    }
		    	});
		    	
		    }
		});
	});
   	

   </script>
   
   <script src="/admin/js/app.js"></script>
</body>

</html>